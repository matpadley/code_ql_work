const mysql = require('mysql');
const express = require('express');
const app = express();

app.get('/users', function(req, res) {
    const userId = req.query.id;
    const query = 'SELECT * FROM users WHERE id = ' + userId;

    const connection = mysql.createConnection({
        host: 'localhost',
        user: 'me',
        password: 'secret',
        database: 'my_db'
    });

    connection.query(query, function(error, results, fields) {
        if (error) throw error;
        res.send(results);
    });
});

app.listen(3000, function() {
    console.log('App is listening on port 3000');
});